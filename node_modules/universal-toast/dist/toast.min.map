{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./packages/universal-toast/src/index.js","webpack:///./packages/universal-env/lib/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","toastWin","_universalEnv","queue","isProcessing","toast","push","message","duration","this","show","_this","length","parentNode","removeChild","toastInfo","shift","document","createElement","styles","container","style","body","appendChild","transform","webkitTransform","innerHTML","showToastWindow","setTimeout","backgroundColor","boxSizing","maxWidth","color","padding","position","left","bottom","fontSize","lineHeight","fontWeight","borderRadius","textAlign","transition","webkitTransition","zIndex","SHORT","LONG","arguments","undefined","isWeex","weexModal","__weex_require__","Number","_typeof","obj","_typeof2","iterator","constructor","default","isReactNative","isNode","isWeb","navigator","appCodeName","product","process","versions","node","callNative","WXEnvironment","platform","__fbBatchedBridgeConfig","_default"],"mappings":"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","file":"toast.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import {isWeex} from 'universal-env';\n\nconst LONG_DELAY = 3500; // 3.5 seconds\nconst SHORT_DELAY = 2000; // 2 seconds\n\nlet queue = [];\nlet isProcessing = false;\nlet toastWin;\n\nfunction showToastWindow(message) {\n  if (!toastWin) {\n    toastWin = document.createElement('div');\n\n    for (let key in styles.container) {\n      toastWin.style[key] = styles.container[key];\n    }\n\n    document.body.appendChild(toastWin);\n  }\n\n  toastWin.style.transform = 'translateX(-50%)';\n  toastWin.style.webkitTransform = 'translateX(-50%)';\n  toastWin.innerHTML = message;\n\n  // setTimeout(() => {\n  //   toastWin.style.backgroundColor = 'rgba(0, 0, 0, 0.6)';\n  // }, 0);\n}\n\nfunction hideToastWindow() {\n  if (!toastWin) {\n    return;\n  }\n\n  setTimeout(() => {\n    toastWin.style.transform = 'translateX(-50%) scale(0.8)';\n    toastWin.style.webkitTransform = 'translateX(-50%) scale(0.8)';\n  }, 0);\n}\n\nlet toast = {\n  push(message, duration) {\n    queue.push({\n      message,\n      duration\n    });\n    this.show();\n  },\n\n  show() {\n    // All messages had been toasted already, so remove the toast window,\n    if (!queue.length) {\n      if (toastWin) {\n        toastWin.parentNode.removeChild(toastWin);\n      }\n      toastWin = null;\n      return;\n    }\n\n    // the previous toast is not ended yet.\n    if (isProcessing) {\n      return;\n    }\n    isProcessing = true;\n\n    let toastInfo = queue.shift();\n    showToastWindow(toastInfo.message);\n    setTimeout(() => {\n      hideToastWindow();\n      isProcessing = false;\n      setTimeout(() => this.show(), 600);\n    }, toastInfo.duration);\n  }\n};\n\nlet Toast = {\n  SHORT: SHORT_DELAY,\n  LONG: LONG_DELAY,\n\n  /*\n   * @param message {String}\n   * @param duration {Number}\n   * @param userStyle {Object} user defined style\n   */\n  show(message, duration = SHORT_DELAY) {\n    if (isWeex) {\n      let weexModal = __weex_require__('@weex-module/modal');\n\n      if (weexModal.toast) {\n        weexModal.toast({\n          message,\n          duration: Number(duration) / 1000,\n        });\n      }\n    } else {\n      toast.push(message, duration);\n    }\n  },\n};\n\nlet styles = {\n  container: {\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    boxSizing: 'border-box',\n    maxWidth: '80%',\n    color: '#ffffff',\n    padding: '8px 16px',\n    position: 'fixed',\n    left: '50%',\n    bottom: '50%',\n    fontSize: '16px',\n    lineHeight: '32px',\n    fontWeight: '600',\n    borderRadius: '4px',\n    textAlign: 'center',\n    transition: 'all 0.4s ease-in-out',\n    webkitTransition: 'all 0.4s ease-in-out',\n    transform: 'translateX(-50%)',\n    webkitTransform: 'translateX(-50%)',\n    zIndex: 9999\n  }\n};\n\nexport default Toast;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.isReactNative = exports.isWeex = exports.isNode = exports.isWeb = void 0;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// https://www.w3.org/TR/html5/webappapis.html#dom-navigator-appcodename\nvar isWeb = (typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) === 'object' && (navigator.appCodeName === 'Mozilla' || navigator.product === 'Gecko');\nexports.isWeb = isWeb;\nvar isNode = typeof process !== 'undefined' && !!(process.versions && process.versions.node);\nexports.isNode = isNode;\nvar isWeex = typeof callNative === 'function' || (typeof WXEnvironment === \"undefined\" ? \"undefined\" : _typeof(WXEnvironment)) === 'object' && WXEnvironment.platform !== 'Web';\nexports.isWeex = isWeex;\nvar isReactNative = typeof __fbBatchedBridgeConfig !== 'undefined';\nexports.isReactNative = isReactNative;\nexports[\"default\"] = module.exports;\nvar _default = module.exports;\nexports.default = _default;"],"sourceRoot":""}