{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./packages/universal-toast/src/index.js","webpack:///./packages/universal-env/lib/index.js"],"names":["LONG_DELAY","SHORT_DELAY","queue","isProcessing","toastWin","showToastWindow","message","document","createElement","key","styles","container","style","body","appendChild","transform","webkitTransform","innerHTML","hideToastWindow","setTimeout","toast","push","duration","show","length","parentNode","removeChild","toastInfo","shift","Toast","SHORT","LONG","isWeex","weexModal","__weex_require__","Number","backgroundColor","boxSizing","maxWidth","color","padding","position","left","bottom","fontSize","lineHeight","fontWeight","borderRadius","textAlign","transition","webkitTransition","zIndex","Object","defineProperty","exports","value","default","isReactNative","isNode","isWeb","_typeof","obj","Symbol","iterator","constructor","prototype","navigator","appCodeName","product","process","versions","node","callNative","WXEnvironment","platform","__fbBatchedBridgeConfig","module","_default"],"mappings":"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","file":"toast.factory.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import {isWeex} from 'universal-env';\n\nconst LONG_DELAY = 3500; // 3.5 seconds\nconst SHORT_DELAY = 2000; // 2 seconds\n\nlet queue = [];\nlet isProcessing = false;\nlet toastWin;\n\nfunction showToastWindow(message) {\n  if (!toastWin) {\n    toastWin = document.createElement('div');\n\n    for (let key in styles.container) {\n      toastWin.style[key] = styles.container[key];\n    }\n\n    document.body.appendChild(toastWin);\n  }\n\n  toastWin.style.transform = 'translateX(-50%)';\n  toastWin.style.webkitTransform = 'translateX(-50%)';\n  toastWin.innerHTML = message;\n\n  // setTimeout(() => {\n  //   toastWin.style.backgroundColor = 'rgba(0, 0, 0, 0.6)';\n  // }, 0);\n}\n\nfunction hideToastWindow() {\n  if (!toastWin) {\n    return;\n  }\n\n  setTimeout(() => {\n    toastWin.style.transform = 'translateX(-50%) scale(0.8)';\n    toastWin.style.webkitTransform = 'translateX(-50%) scale(0.8)';\n  }, 0);\n}\n\nlet toast = {\n  push(message, duration) {\n    queue.push({\n      message,\n      duration\n    });\n    this.show();\n  },\n\n  show() {\n    // All messages had been toasted already, so remove the toast window,\n    if (!queue.length) {\n      if (toastWin) {\n        toastWin.parentNode.removeChild(toastWin);\n      }\n      toastWin = null;\n      return;\n    }\n\n    // the previous toast is not ended yet.\n    if (isProcessing) {\n      return;\n    }\n    isProcessing = true;\n\n    let toastInfo = queue.shift();\n    showToastWindow(toastInfo.message);\n    setTimeout(() => {\n      hideToastWindow();\n      isProcessing = false;\n      setTimeout(() => this.show(), 600);\n    }, toastInfo.duration);\n  }\n};\n\nlet Toast = {\n  SHORT: SHORT_DELAY,\n  LONG: LONG_DELAY,\n\n  /*\n   * @param message {String}\n   * @param duration {Number}\n   * @param userStyle {Object} user defined style\n   */\n  show(message, duration = SHORT_DELAY) {\n    if (isWeex) {\n      let weexModal = __weex_require__('@weex-module/modal');\n\n      if (weexModal.toast) {\n        weexModal.toast({\n          message,\n          duration: Number(duration) / 1000,\n        });\n      }\n    } else {\n      toast.push(message, duration);\n    }\n  },\n};\n\nlet styles = {\n  container: {\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    boxSizing: 'border-box',\n    maxWidth: '80%',\n    color: '#ffffff',\n    padding: '8px 16px',\n    position: 'fixed',\n    left: '50%',\n    bottom: '50%',\n    fontSize: '16px',\n    lineHeight: '32px',\n    fontWeight: '600',\n    borderRadius: '4px',\n    textAlign: 'center',\n    transition: 'all 0.4s ease-in-out',\n    webkitTransition: 'all 0.4s ease-in-out',\n    transform: 'translateX(-50%)',\n    webkitTransform: 'translateX(-50%)',\n    zIndex: 9999\n  }\n};\n\nexport default Toast;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.isReactNative = exports.isWeex = exports.isNode = exports.isWeb = void 0;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// https://www.w3.org/TR/html5/webappapis.html#dom-navigator-appcodename\nvar isWeb = (typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) === 'object' && (navigator.appCodeName === 'Mozilla' || navigator.product === 'Gecko');\nexports.isWeb = isWeb;\nvar isNode = typeof process !== 'undefined' && !!(process.versions && process.versions.node);\nexports.isNode = isNode;\nvar isWeex = typeof callNative === 'function' || (typeof WXEnvironment === \"undefined\" ? \"undefined\" : _typeof(WXEnvironment)) === 'object' && WXEnvironment.platform !== 'Web';\nexports.isWeex = isWeex;\nvar isReactNative = typeof __fbBatchedBridgeConfig !== 'undefined';\nexports.isReactNative = isReactNative;\nexports[\"default\"] = module.exports;\nvar _default = module.exports;\nexports.default = _default;"],"sourceRoot":""}